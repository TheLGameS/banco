<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"	
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="/templates/internaDesktop.xhtml">

<!-- 	<ui:define name="titulo"> -->
<!--     Municípios -->
<!-- 	</ui:define> -->

	<ui:define name="corpo">
	
	<p:dialog appendToBody="true" closable="true" draggable="false"
                  header="Municipio" maximizable="false" minimizable="false" showHeader="true" closeOnEscape="true"
                  resizable="false"  visible="true"
                  position="center"   height="520" width="1100"  onHide="redirecionar();"  > 
			<h:messages />
			
			<p:tabView id="tab" dynamic="true" activeIndex="#{municipioBean.tabIndex}">
				<p:tab id="pesquisa" disabled="#{municipioBean.renderTabPesquisa}" title="Pesquisar">
					<ui:include src="municipio_lista.xhtml" />
				</p:tab>
			
				<p:tab id="cadastro" disabled="#{municipioBean.renderTabCadastro}" title="Cadastrar">
					<ui:include src="municipio_edicao.xhtml" />	
				</p:tab>
			</p:tabView>
		</p:dialog>
		
		<p:dialog header="Selecione o Estado" widgetVar="dlg2" modal="true" height="400" width="400" resizable="false">
			<p:dataTable id="estado" var="estado" rowIndexVar="index" value="#{estadoBean.lista}">
				<p:column headerText="Estado" width="200">
					<h:outputText value="#{estado.estNom}" />
				</p:column>
		
				<p:column headerText="Sigla" width="30">
					<h:outputText value="#{estado.estSig}" />
				</p:column>
						
				<p:column headerText="Select" width="30">										
					<p:commandButton icon="ui-icon-circle-check" action="#{municipioBean.onRowSelect}" update=":tab:edicao:uf, :tab:edicao:ufnome" onclick="PF('dlg2').hide();">							
						<f:setPropertyActionListener target="#{municipioBean.ufSelecionada}" value="#{estado}" />
					</p:commandButton>	
				</p:column>
			</p:dataTable>
	</p:dialog>	
		 
	</ui:define>
</ui:composition>
</html>