<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	>
	
<ui:composition template="/templates/main.xhtml">
    <ui:define name="content">    

		<p:dialog  appendToBody="true" closable="true" draggable="false"
                  header="Colaborador" maximizable="false" minimizable="false"
                  resizable="false"   visible="true" 
                  position="center"     width="94%"  height="515" onHide="redirecionar();"   
                  closeOnEscape="true"  style="margin-top:0.5%" id="idDlgColaborador" widgetVar="dlgColaborador" 
                  > 

		<h:form id="cadColaborador"  >
				<p:messages id="messageGe"    closable="true" showIcon="false" globalOnly="true"/>


				<p:dataTable value="#{colaboradorBean.listaTelaWeb}"
					resizableColumns="true" draggableColumns="false" id="colaborador"
					var="colaboradorVO" rows="10" paginator="true" sortMode="multiple"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					currentPageReportTemplate="Visualizando {startRecord} - {endRecord} de {totalRecords} -  Página: {currentPage}/{totalPages}"
					paginatorPosition="bottom" emptyMessage="Não existe dados para a Consulta."
					scrollable="false"     liveResize="true"    styleClass=".ui-datatable-hor-scroll" tableStyle="table-layout:auto;width:100%;"  
					>
						
 
 				   <!-- <p:columns value="#{colaboradorBean.tela}" var="column"  rendered="#{column.TWU_POS gt 0 }" id="colunasDinamicas"    >  
 			            <f:facet name="header"    > 
 			                <h:outputText value="#{column.TLW_DES}"     /> 
 			            </f:facet> 
		                <h:outputText value="#{colaboradorVO[column.TWU_CPO]}" />		
 					</p:columns>  -->  
					
					
				 	<p:column headerText="Ações"   width="85"  id="acoes"  resizable="true" exportable="false"   >
						<div align="center"  >
								<p:commandButton action="#{colaboradorBean.obterPorId()}"  update=":dlgIncluir" resetValues="true"
									icon="ui-icon-pencil"   title="Alterar" oncomplete="PF('dlgIncluir').show();">
									<f:setPropertyActionListener value="#{colaboradorVO}" target="#{colaboradorBean.colaboradorVO}"  />
									<f:setPropertyActionListener value="#{true}" target="#{colaboradorBean.podeAlterar}"  />
									<f:ajax  update=":dlgIncluir:dlg:sit"  />
								</p:commandButton>
								
								<p:commandButton  update=":confirmacao,:cadColaborador:colaborador, :cadColaborador:messageGe" icon="ui-icon-trash" title="Excluir"   
									onclick="PF('confirmation').show();"  action="#{colaboradorBean.excluir()}"  id="btnExclui">
									<p:confirm  icon="ui-icon-blank" message="Confirma a exclusão ?"   />
									<f:setPropertyActionListener  value="#{colaboradorVO}" target="#{colaboradorBean.colaboradorVO}"  />
									<p:ajax  delay="500" update=":cadColaborador:messageGe, :cadColaborador,colaborador" listener="#{colaboradorBean.reiniciaTabela()}"  />
								</p:commandButton>
								
								<p:commandButton action="#{colaboradorBean.obterPorId()}"
									icon="ui-icon-search"   title="Visualizar"  update=":dlgIncluir" resetValues="true"
									oncomplete="PF('dlgIncluir').show();"  >
									<f:setPropertyActionListener value="#{colaboradorVO}" target="#{colaboradorBean.colaboradorVO}"  />
									<f:setPropertyActionListener value="#{false}" target="#{colaboradorBean.podeAlterar}"  />
								</p:commandButton>
						</div>	
					</p:column> 
					
 
 				<p:ajax event="sort"    listener="#{colaboradorBean.sort()}"      />
 				<p:ajax event="filter"  listener="#{colaboradorBean.filter()}"    />
 				<p:ajax event="page"    listener="#{colaboradorBean.page()}"      />
 
			  	   <c:forEach var="column" items="#{colaboradorBean.tela}"  >
			  	   
			  	   
            		<p:column headerText="#{column.TLW_DES}"  rendered="#{column.TLW_DEF eq 'S' }" id="#{column.TWU_CPO}"  sortBy="#{colaboradorVO[column.TWU_CPO]}"   filterBy="#{colaboradorVO[column.TWU_CPO]}"  filterMatchMode="#{column.filterMatchMode}" filterStyle="#{column.TWU_FIL >0 ? 'display: block' : 'display: none'}"  >
	               		
	               		<c:choose>	
	               		
		               		<c:when test="#{column.TWU_CPO.contains('colFon')  || column.TWU_CPO.contains('colFax')   || column.TWU_CPO.contains('colCel') }">
		               			<h:outputText value="#{colaboradorVO[column.TWU_CPO]}" converter="telefoneConverter" />
		               		</c:when>
		               		
		               		<c:when test="#{column.TWU_CPO.contains('colCep')}">
		               			<h:outputText value="#{colaboradorVO[column.TWU_CPO]}" converter="cepConverter" />
		               		</c:when>
		               		
		              		<c:when test="#{column.TWU_CPO.contains('colDti')}">
		               			<h:outputText value="#{colaboradorVO[column.TWU_CPO]}"   >
		               				<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"  />
		   	           			</h:outputText>
		               		</c:when>
		               		
		               		<c:when test="#{column.TWU_CPO.contains('colDtu')}">
		               			<h:outputText value="#{colaboradorVO[column.TWU_CPO]}"   >
		               				<f:convertDateTime pattern="dd/MM/yyyy HH:mm" timeZone="America/Sao_Paulo"  />
		   	           			</h:outputText>
		               		</c:when>
		               		
		               		<c:when test="#{column.TWU_CPO.contains('colInf')}">
		               			<h:outputText value="#{colaboradorVO[column.TWU_CPO]}" converter="documentoConverter" />
		               		</c:when>
		               		
		               		<c:otherwise>
		               			<h:outputText value="#{colaboradorVO[column.TWU_CPO]}"  />
		               		</c:otherwise>	
		               		
	               		</c:choose>
	               		
           			</p:column>
           			
        		</c:forEach>      
 
 				 
 			</p:dataTable>
			
				
	
		</h:form>




		<h:form id="configuracao"   >
		
		
		<p:toolbar>
					<f:facet name="left"  >
						<p:commandButton value="Incluir"  icon="ui-icon-plusthick" 	action="#{colaboradorBean.novo}" oncomplete="PF('dlgIncluir').show();" 
						update=":dlgIncluir" >
						<f:setPropertyActionListener value="#{true}" target="#{colaboradorBean.podeAlterar}"  />
						<f:setPropertyActionListener value="#{true}" target="#{colaboradorBean.podeDigitarDocumento}"  />
						</p:commandButton>
					</f:facet>
					<f:facet name="right">
					
					 	 
						 <p:commandButton  id="dynaButton" value="Outras Ações" type="button" icon="fa fa-bars" />
						 
						 
					     <p:menu overlay="true" trigger="dynaButton" my="left top" at="left bottom"  >
									<p:submenu label="Configurar Tela">								   
								   		<p:menuitem value="Coluna Visíveis" icon="ui-icon-calculator" 	id="menuTabela"  onclick="clickBotaoTabela()"   />
						            	<p:menuitem value="Forma de Pesquisa" icon="ui-icon-lightbulb" 	    id="menuFiltro"  onclick="clickBotaoFiltro()"   />
									</p:submenu>

								<p:submenu label="Exportar">	
						           <p:menuitem>
							           <h:commandLink styleClass="ui-menuitem-link" >
										   <p:graphicImage name="/imagens/pdf.png" width="8%" style="float:left"/>
										   <h:outputText value="Formato PDF" styleClass="ui-menuitem-text" />
										   <p:dataExporter type="pdf" target=":cadColaborador:colaborador" fileName="rel" orientation="Landscape" encoding="ISO-8859-1" />
						   			   </h:commandLink>
						           </p:menuitem>
						           
						           <p:menuitem>
							           <h:commandLink styleClass="ui-menuitem-link" >
										   <p:graphicImage name="/imagens/excel.png" width="8%" style="float:left"/>
										   <h:outputText value="Formato Excel" styleClass="ui-menuitem-text" />
										   <p:dataExporter type="xls" target=":cadColaborador:colaborador" fileName="rel" />
						   			   </h:commandLink>
						           </p:menuitem>
						           </p:submenu>
						           
						           
					     </p:menu>  

						
    
						<p:commandButton title="Tabela" icon="ui-icon-calculator" 	id="botaoTabela"    actionListener="#{colaboradorBean.escolhaCamposTabela()}"  style="display:none" >
							<p:ajax  event="dialogReturn"   listener="#{colaboradorBean.preDestroy()}" update=":cadColaborador" />
							<f:setPropertyActionListener value="#{colaboradorBean.telaWebUsuario}" target="#{telaWebCamposBean.telaWebUsuario}" />
							<f:setPropertyActionListener value="#{colaboradorBean.nomeJanela}" target="#{telaWebCamposBean.nomeJanela}" />
						</p:commandButton>
						
						<p:commandButton title="Filtro" icon="ui-icon-lightbulb" 	id="botaoFiltro"    actionListener="#{colaboradorBean.escolhaTipoFiltro()}"  style="display:none" >
							<p:ajax  event="dialogReturn"   listener="#{colaboradorBean.preDestroy()}" update=":cadColaborador" />
							<f:setPropertyActionListener value="#{colaboradorBean.telaWebUsuario}" target="#{tipoFiltroBean.telaWebUsuario}" />
							<f:setPropertyActionListener value="#{colaboradorBean.nomeJanela}" target="#{tipoFiltroBean.nomeJanela}" />
						</p:commandButton>
						
					<script type="text/javascript"> 
           				function clickBotaoTabela() { 
                			document.getElementById("configuracao:botaoTabela").click();
          			  	}
           				function clickBotaoFiltro() { 
                			document.getElementById("configuracao:botaoFiltro").click();
          			  	}
       			 	</script> 
						  
						
					</f:facet>
				</p:toolbar>
		
		
		</h:form>






		
		<h:form id="confirmacao" >
		    <p:confirmDialog    severity="alert" widgetVar="confirmation"  global="true" closeOnEscape="true" closable="false" >
    	    	<center>
    	    		<p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" actionListener="#{colaboradorBean.excluir}" process="@form" update=":cadColaborador:colaborador, :cadColaborador:messageGe"   > 
    					<f:setPropertyActionListener  value="#{colaboradorVO}" target="#{colaboradorBean.colaboradorVO}"  />
    				</p:commandButton>
		        	<p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no"    icon="ui-icon-close"/>
		        </center>
    		</p:confirmDialog>
		</h:form>
				
		</p:dialog>
		
		
			<p:dialog id="dlgIncluir" widgetVar="dlgIncluir" resizable="false"  
			modal="true" draggable="false" header="Cadastro de Colaboradores"
			  location="center" closable="false"
			closeOnEscape="false" height="515" width="44%"  >
			
			<p:messages id="cadastro" showIcon="false" closable="true" globalOnly="true" ></p:messages> 


		           <h:form  id="dlg"  onkeypress="if (event.keyCode == 13) { return false;}" >
					   <c:choose>	
						   <c:when test="#{colaboradorBean.podeDigitarDocumento eq true  }">
			       			   <p:focus  context="dlg"  for="documento" ></p:focus>
						   </c:when>
					
						   <c:when test="#{colaboradorBean.podeDigitarDocumento eq false and colaboradorBean.podeAlterar eq true  }">
				       		   <p:focus  context="dlg"  for="apelido" ></p:focus>
						   </c:when>
					
					       <c:when test="#{colaboradorBean.podeDigitarDocumento eq false and colaboradorBean.podeAlterar eq false}"  >
						 	   <p:focus  context="dlg"  for="btnCancela" ></p:focus>
					       </c:when>
				       </c:choose>	
				
					<p:fieldset >
						<h:panelGrid  styleClass="semBorda" columns="2" id="panelDlg" >
							
							<p:outputLabel value="Código" for="codigo"/>				
							<h:panelGrid  columns="10" >
								<p:inputText id="codigo" value="#{colaboradorBean.colaborador.colCod}" 
									maxlength="7" 
									readonly="true"  
									style="padding-right: 5px; float: right; width:45px " />
								
								<p:selectOneMenu id="pcbTipo" value="#{colaboradorBean.colaborador.colTip}"    disabled="true" 
									style="width:60px" effect="drop"   >
									<f:selectItem itemLabel="CNPJ" itemValue="CNPJ" />
									<f:selectItem itemLabel="CPF"  itemValue="CPF"  />
									<f:selectItem itemLabel="CEI"  itemValue="CEI"  />
									<f:selectItem itemLabel="EX"  itemValue="EX"  />
								</p:selectOneMenu>
								<p:inputText id="documento" value="#{colaboradorBean.colaborador.colInf}" style="width:115px" maxlength="18" readonly="#{!colaboradorBean.podeDigitarDocumento}" required="true" requiredMessage="Campo Documento é Obrigatório"    onkeypress="return somenteNumero(event)"   >
	    							<p:ajax event="blur"   listener="#{colaboradorBean.identificaTipoDocumento()}"  update="pcbTipo, documento , cadastro, lbIeRg, lbFundDtNasc,pcbIcm"  />
	    							
	    							<c:if test="#{colaboradorBean.colaborador.colInf.trim().length() eq 0}">
		       			 				<p:focus for="documento" >  </p:focus>
									</c:if>
	    						</p:inputText>
	    						
								    						
		   						<p:commandLink title="Receita" id="botaoReceita" actionListener="#{colaboradorBean.frmReceitaFederal()}"   immediate="true"  rendered="#{colaboradorBean.podeAlterar}"   > 
									<p:ajax  event="dialogReturn" listener="#{colaboradorBean.retornoFrmReceitaFederal}"  update="dlg"   />
									<f:setPropertyActionListener value="#{colaboradorBean.documentoSemMascara}" target="#{receitaFederalBean.documentoSemMascara}"   />
									<p:graphicImage name="/imagens/logo_receita.png"  />
								</p:commandLink>
										
								<p:blockUI block="dlg"  widgetVar="bui"  trigger="botaoReceita, botaoSintegra" />								
								
									 
								<p:outputLabel value="Apelido" for="apelido"/>
								<p:inputText id="apelido" value="#{colaboradorBean.colaborador.colApe}" style="width:105px; text-transform: uppercase" maxlength="15" readonly="#{!colaboradorBean.podeAlterar}" 		converter="toUpperCaseConverter"  onkeypress="return focoEnter(event)" >
	    							<f:ajax event="blur" render="@this" />
								</p:inputText>		
							</h:panelGrid>
								
							<p:outputLabel value="Razão Social" for="polRazaoSocial" id="razao" />
							<h:panelGrid   columns="2" id="panelRazao">
								<p:inputText id="polRazaoSocial" value="#{colaboradorBean.colaborador.colRaz}"
									required="true"
									requiredMessage="Campo Razão Social é Obrigatório" 
									style="width:400px; text-transform: uppercase" maxlength="50" readonly="#{!colaboradorBean.podeAlterar}"  
									converter="toUpperCaseConverter"    >
	    					<p:ajax event="blur"  render="@this" update="dlg:panelRazao, dlg:razao" />
							</p:inputText>		
							<p:message for="polRazaoSocial" display="icon" severity="info" />
									
							</h:panelGrid>
							
							<p:outputLabel value="Nome Fantasia" for="polNmFantasia" />
							<h:panelGrid   columns="1">
								<p:inputText id="polNmFantasia" value="#{colaboradorBean.colaborador.colNmf}" style="width:400px; text-transform: uppercase" maxlength="50" readonly="#{!colaboradorBean.podeAlterar}" 		converter="toUpperCaseConverter">
	    					<f:ajax event="blur" render="@this" />
							</p:inputText>		
							</h:panelGrid>
							
							<p:outputLabel value="CEP" for="cep" id="nmCep"/>
							<h:panelGrid   columns="8"  id="panelCep" >
								<p:inputMask id="cep" value="#{colaboradorBean.colaborador.colCep}" maxlength="9" style="width:60px" mask="99999-999" required="true" requiredMessage="Campo CEP é Obrigatório" readonly="#{!colaboradorBean.podeAlterar}" >
										
									<c:if test="#{colaboradorBean.colaborador.municipio.munCod >0  and colaboradorBean.podeDigitarDocumento eq true and  colaboradorBean.colaborador.colEnd.trim().length() >0  }">
		       			 				<p:focus for="numero" >  </p:focus>
									</c:if>
									
									<p:ajax  event="blur" listener="#{colaboradorBean.encontraCEP}"   update="dlg:panelCep, dlg:nmCep, dlg:panelCep, dlg:municipio, dlg:endereco, dlg:ender, dlg:bairro , cadastro" onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()"   />
									<p:ajax  event="blur" listener="#{colaboradorBean.validaIe()}"    update="ie,cadastro,lbIeRg" />																																				
									
								</p:inputMask>
								<p:message for="cep" display="icon" severity="info" />
								
								<p:outputLabel for="uf" value="Município" id="municipio" />
								<p:inputText id="uf"   maxlength="6" size="3" value="#{colaboradorBean.municipioExibidoDialog.munCod}" required="true" readonly="#{!colaboradorBean.podeAlterar}"   requiredMessage="Campo Município é Obrigatório" onkeypress="return somenteNumero(event)"    >
									<p:ajax event="change" update="dlg:panelCep, dlg:municipio" listener="#{colaboradorBean.buscaMunicipio()}"    />
	 							</p:inputText>
	 							
								<p:inputText id="ufnome" value="#{colaboradorBean.municipioExibidoDialog.munNom}"    readonly="true"  style="width:130px" />
								
								<p:inputText id="descUF" size="1" value="#{colaboradorBean.municipioExibidoDialog.estado.estSig}" readonly="true"    />
								
								<p:commandButton value="..."    id="botaoConsulta"     actionListener="#{colaboradorBean.escolhaDeMunicipio()}" immediate="true"  disabled="#{!colaboradorBean.podeAlterar}" >
									<p:ajax event="dialogReturn" listener="#{colaboradorBean.retornoMunicipioSelecionado}"   update="ufnome, uf, descUF"  />
								</p:commandButton>
								<p:message for="uf" display="icon" severity="info" />
								
							</h:panelGrid>
							
							<p:outputLabel value="Endereço" for="end" id="endereco" />
							<h:panelGrid  columns="4" id="ender">
								<p:inputText   id="end" value="#{colaboradorBean.colaborador.colEnd}"  maxlength="40" style="width:285px; text-transform: uppercase" required="true" requiredMessage="Campo Endereço é Obrigatório" readonly="#{!colaboradorBean.podeAlterar}" 		converter="toUpperCaseConverter">
	    							<p:ajax event="blur" render="@this" update="dlg:endereco, dlg:ender"  />
								</p:inputText>		
								<p:outputLabel value="Número" for="numero" />
								<p:inputText   id="numero" value="#{colaboradorBean.colaborador.colNro}"  maxlength="7" readonly="#{!colaboradorBean.podeAlterar}"  style="width:50px"  onkeypress="return somenteNumero(event)"  >
	    							<p:ajax event="blur" listener="#{colaboradorBean.validaIe()}" update="ie,cadastro,lbIeRg" />
								</p:inputText>	
								<p:message for="end" display="icon" severity="info" />
							</h:panelGrid>
							
			
							<p:outputLabel value="Complemento" for="comp" id="retornoCep"/>
							<h:panelGrid columns="3" id="panelBairro" >
								<p:inputText id="comp" value="#{colaboradorBean.colaborador.colCpl}"  maxlength="20" style="width:175px; text-transform: uppercase" readonly="#{!colaboradorBean.podeAlterar}" 		converter="toUpperCaseConverter">
	    					<f:ajax event="blur" render="@this" />
							</p:inputText>		
							<p:outputLabel value="Bairro" for="bairro" />
								<p:inputText id="bairro" value="#{colaboradorBean.colaborador.colBai}"    readonly="#{!colaboradorBean.podeAlterar}" maxlength="20" style="width:172px; text-transform: uppercase" 	converter="toUpperCaseConverter">
	    							<f:ajax event="blur" render="@this"  />
								</p:inputText>		
							</h:panelGrid>
							
							<p:outputLabel value="Telefone" for="telefone" />
							<h:panelGrid columns="5" id="panelFones" >
								<p:inputMask id="telefone" value="#{colaboradorBean.colaboradorVO.colFon}"  maxlength="14" style="width:100px" readonly="#{!colaboradorBean.podeAlterar}"  mask="(**)*999-9999" />
								<p:outputLabel value="Fax" for="fax" />
								<p:inputMask id="fax" value="#{colaboradorBean.colaboradorVO.colFax}"       maxlength="14" style="width:100px" readonly="#{!colaboradorBean.podeAlterar}"  mask="(**)*999-9999" />
								<p:outputLabel value="Celular" for="celular" />
								<p:inputMask id="celular" value="#{colaboradorBean.colaboradorVO.colCel}"   maxlength="15" style="width:100px" readonly="#{!colaboradorBean.podeAlterar}"  mask="(**)*999-9999" />
							</h:panelGrid>
							
							
							<p:outputLabel value="#{colaboradorBean.colaborador.colTip.equals('CPF') ? 'Data Nascimento' : 'Fundação'}" for="data"  id="lbFundDtNasc" />
							<h:panelGrid columns="5" id="panelLocal" >
								<p:calendar id="data" value="#{colaboradorBean.colaborador.colDti}" size="16" pattern="dd-MM-yyyy" mask="true"  locale="pt"  readonly="#{!colaboradorBean.podeAlterar}" />
								<p:outputLabel value="Caixa Postal" for="cp" />
								<p:inputText id="cp" value="#{colaboradorBean.colaborador.colCxp}" readonly="#{!colaboradorBean.podeAlterar}"   style="width:76px  ; text-transform: uppercase"  maxlength="15"	converter="toUpperCaseConverter">
	    							<f:ajax event="blur" render="@this"  />
								</p:inputText>	
								<p:outputLabel value="Ramal" for="rm" />
								<p:inputText id="rm" value="#{colaboradorBean.colaborador.colRam}"  readonly="#{!colaboradorBean.podeAlterar}"  style="width:77px"  onkeypress="return somenteNumero(event)" maxlength="7"  >
								</p:inputText>	
							</h:panelGrid>
							
								<p:outputLabel value="Contr.ICMS" for="pcbIcm"    />
								<h:panelGrid columns="6"  id="sit">
									<p:selectOneMenu id="pcbIcm" value="#{colaboradorBean.colaborador.colIcm}"   
										style="width:60px" effect="drop" disabled="#{!colaboradorBean.podeAlterar}">
										<f:selectItem itemLabel="Sim" itemValue="S" />
										<f:selectItem itemLabel="Não" itemValue="N" />
										
										<p:ajax  event="change"  update="@this, lbIeRg, ie" > </p:ajax>
										
									</p:selectOneMenu>
									
									
									<p:outputLabel  for="ie" id="lbIeRg"  value="#{colaboradorBean.colaborador.colTip.equals('CPF') ? 'RG' : 'Insc. Estadual'}" />
									<p:inputText id="ie" value="#{colaboradorBean.colaborador.colIne}"   readonly="#{!colaboradorBean.podeAlterar}"  required="#{colaboradorBean.colaborador.colIcm eq 'S'}"  requiredMessage="Campo IE é Obrigatório" style="width:80px; text-transform: uppercase" maxlength="20" 	converter="toUpperCaseConverter">
										<p:ajax event="blur" listener="#{colaboradorBean.validaIe()}" update="ie,cadastro,lbIeRg" />
		    							<f:ajax event="blur" render="@this"  />
									</p:inputText>
									
									
									<p:commandLink title="Sintegra" id="botaoSintegra" actionListener="#{colaboradorBean.frmSintegra()}"   immediate="true"  rendered="#{colaboradorBean.podeAlterar}" >
										<p:ajax  event="dialogReturn" listener="#{colaboradorBean.retornoFrmSintegra}"  update="dlg" />
										<f:setPropertyActionListener value="#{colaboradorBean.documentoSemMascara}" target="#{sintegraBean.documentoSemMascara}" />
											<f:setPropertyActionListener value="#{colaboradorBean.municipioExibidoDialog.estado.estSig}" target="#{sintegraBean.estado}" />
											<f:setPropertyActionListener value="#{colaboradorBean.documentoSemMascara}" target="#{sintegraBean.documentoSemMascara}" />
										<p:graphicImage name="/imagens/logo_sintegra.png"  /> 
									</p:commandLink>
									
									<p:outputLabel value="Insc. Municipal" for="im" />
									<p:inputText id="im" value="#{colaboradorBean.colaborador.colInm}" style="width:70px" readonly="#{!colaboradorBean.podeAlterar}"  maxlength="20" />
								</h:panelGrid>
								
	
	
	
								<p:outputLabel value="Email" for="email"  id="lbEmail"  />
								<h:panelGrid columns="6"  id="panelWeb">
									<p:inputText id="email" value="#{colaboradorBean.colaborador.colEma}"   style="width:165px" readonly="#{!colaboradorBean.podeAlterar}" validator="#{colaboradorBean.validateEmail}" validatorMessage="Erro" maxlength="50" >
										<p:ajax event="blur" update="panelWeb, lbEmail, cadastro"  />
									</p:inputText>
									
									
									<p:outputLabel value="Web Site" for="website" />
									<p:inputText id="website" value="#{colaboradorBean.colaborador.colWeb}" style="width:165px" readonly="#{!colaboradorBean.podeAlterar}" maxlength="50"/>
								</h:panelGrid>
	
	
	
								<p:outputLabel value="Contato" for="contato" />
								<h:panelGrid columns="3"  id="panelContatoRef">
									<p:inputText id="contato" value="#{colaboradorBean.colaborador.colCon}"  readonly="#{!colaboradorBean.podeAlterar}"  style="width:165px; text-transform: uppercase"  maxlength="50"	converter="toUpperCaseConverter">
	    							<f:ajax event="blur" render="@this"  />
								</p:inputText>	
									
									
									
									<p:outputLabel value="Simples Nacional" for="pcbSimplesNacional"   />		
									<p:selectOneMenu id="pcbSimplesNacional" value="#{colaboradorBean.colaborador.colOsf}"  
										style="width:125px" effect="drop" disabled="#{!colaboradorBean.podeAlterar   }">
										<f:selectItem itemLabel="Não Optante" itemValue="N" />
										<f:selectItem itemLabel="Optante ME"  itemValue="M" />
										<f:selectItem itemLabel="Optante EPP" itemValue="E" />
									</p:selectOneMenu>
								</h:panelGrid>
	
								
								
								<h:panelGrid columns="3"  id="fim">
									<h:inputHidden value="#{colaboradorBean.colaborador.colCod}" />
									<h:inputHidden value="#{colaboradorBean.colaborador.colTip}" />
									<h:inputHidden value="#{colaboradorBean.colaborador.colInf}" rendered="#{!colaboradorBean.podeAlterar   }"   />
							    </h:panelGrid>	
							
						</h:panelGrid>
					</p:fieldset>
				<br />
				<div align="center" id="conCan" >
					<p:commandButton value="Confirmar" id="btnGrava" action="#{colaboradorBean.salvar}" update=":cadColaborador, dlg:panelRazao, dlg:razao  ,dlg:panelCep, dlg:nmCep   ,dlg:panelCep, dlg:municipio ,dlg:endereco, dlg:ender , dlg:email, dlg:lbEmail "  rendered="#{colaboradorBean.podeAlterar}" icon="ui-icon-check" oncomplete="if (args &amp;&amp; !args.validationFailed) PF('dlgIncluir').hide();"    > 	
						<f:setPropertyActionListener value="#{false}" target="#{colaboradorBean.podeDigitarDocumento}"  />
					</p:commandButton> 
	
					<p:commandButton value="Cancelar" id="btnCancela" onclick="PF('dlgIncluir').hide();" icon="ui-icon-closethick"  immediate="true" ajax="true" update=":dlgIncluir" resetValues="true" process="@all"  >
						<f:setPropertyActionListener value="#{false}" target="#{colaboradorBean.podeDigitarDocumento}"  />
					</p:commandButton>
					
				</div>
			</h:form>
		           
		           
		        
				
    		
		</p:dialog>
		
		
		
		<p:dialog widgetVar="statusDialog" modal="true"     draggable="false" 
				  closable="false"         resizable="false" showHeader="false" >
					<p:graphicImage  library="imagens" name="progresso.gif" />
		</p:dialog>
		
	</ui:define>
</ui:composition>
</html>