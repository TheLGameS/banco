<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">    
     
    <h:head>
        <title>Receita Federal</title>
                <style type="text/css">
            .ui-widget {
                font-size: .75em;
            }
        </style>
    </h:head>
     
    <h:body>
 		<p:dialog id="dlgReceita"   visible="true"  modal="false"   widgetVar="receita"  closeOnEscape="false" showHeader="false" resizable="false" draggable="false" >
	        <p:fieldset  >
		        <h:form id="parametros"  rendered="#{receitaFederalBean.parametros}"   >	
					<p:messages  id="sms"      closable="false"  showIcon="false"      />
					<div align="center">
						<img  src="data:image/png;base64,#{receitaFederalBean.obtemImagem()}"  />
					</div>
					
					<p:focus for="chave" ></p:focus>
					
			        <h:panelGrid columns="2"     >
			        <p:outputLabel  value="CNPJ" />
						<h:panelGrid  columns="3" >
							<p:inputText id="cnpj" value="#{receitaFederalBean.rec.cnpj}" 
								maxlength="14" 
								style="padding-right: 5px; float: right; width:115px " />
							<p:outputLabel  value="Chave" />
							<p:inputText id="chave" value="#{receitaFederalBean.rec.captcha}" 
								maxlength="6" 
								style="padding-right: 5px; float: right; width:50px "/>
						</h:panelGrid>
			       	</h:panelGrid>
			       	<div align="center" >
						<p:commandButton  value="Consultar" id="btnChaveConsulta"   icon="ui-icon-check" actionListener="#{receitaFederalBean.valida()}" update=":dlgReceita"   >
							<p:ajaxStatus  onstart="PF('statusDialog').show()" 	onsuccess="PF('statusDialog').hide()" />
						</p:commandButton>
						<p:commandButton  value="Cancelar"  id="btnChaveCancela" icon="ui-icon-closethick" immediate="true" actionListener="#{receitaFederalBean.dialogReturn(false)}" ></p:commandButton>
					</div>
		      	</h:form>

				<h:form id="resultado" rendered="#{receitaFederalBean.resultado}"     >
				
					<img  src="data:image/png;base64,#{receitaFederalBean.rec.logoReceitaBase64}"  width="8%" />
					<img  src="data:image/png;base64,#{receitaFederalBean.rec.logoBrasaoBase64}"  width="5%" align="right"   />
					
					<h:panelGrid columns="2"  >
						<p:outputLabel value="Tipo de Empresa"/>
						<h:panelGrid columns="7" >
							<p:inputText value="#{receitaFederalBean.rec.descricao}"  style="padding-right: 5px; float: right; width:70px " readonly="true" />
							<p:outputLabel value="Razão Social"/>
							<p:inputText value="#{receitaFederalBean.rec.razaoSocial}"  style="padding-right: 5px; float: right; width:325px "  readonly="true"/>
							<p:outputLabel value="Abertura"/>
							<p:inputText value="#{receitaFederalBean.rec.dataAbertura}"  style="padding-right: 5px; float: right; width:80px " readonly="true" />
							<p:outputLabel value="Nome Fantasia"/>
							<p:inputText value="#{receitaFederalBean.rec.nomeFantasia}"  style="padding-right: 5px; float: right; width:145px "  readonly="true"/>
						</h:panelGrid>
						<p:outputLabel value="Endereço"/>
						<h:panelGrid columns="5" >
							<p:inputText value="#{receitaFederalBean.rec.logradouro}"  style="padding-right: 5px; float: right; width:525px " readonly="true" />
							<p:outputLabel value="Número"/>
							<p:inputText value="#{receitaFederalBean.rec.numero}"  style="padding-right: 5px; float: right; width:55px " readonly="true" />
							<p:outputLabel value="Bairro"/>
							<p:inputText value="#{receitaFederalBean.rec.bairro}"  style="padding-right: 5px; float: right; width:205px " readonly="true" />
						</h:panelGrid>
						<p:outputLabel value="Complemento"/>
						<h:panelGrid columns="7" >
							<p:inputText value="#{receitaFederalBean.rec.complemento}"  style="padding-right: 5px; float: right; width:455px "  readonly="true"/>
							<p:outputLabel value="Cidade"/>
							<p:inputText value="#{receitaFederalBean.rec.municipio}"  style="padding-right: 5px; float: right; width:200px " readonly="true" />
							<p:outputLabel value="UF"/>
							<p:inputText value="#{receitaFederalBean.rec.uf}"  style="padding-right: 5px; float: right; width:25px "  readonly="true" />
							<p:outputLabel value="CEP"/>
							<p:inputText value="#{receitaFederalBean.rec.cep}"  style="padding-right: 5px; float: right; width:80px " readonly="true" />
						</h:panelGrid>
						<p:outputLabel value="Email"/>
						<h:panelGrid columns="5" >
							<p:inputText value="#{receitaFederalBean.rec.email}"  style="padding-right: 5px; float: right; width:285px " readonly="true" />
							<p:outputLabel value="Telefone"/>
							<p:inputText value="#{receitaFederalBean.rec.telefone}"  style="padding-right: 5px; float: right; width:225px " readonly="true" />
							<p:outputLabel value="Ente Federativo Responsável(EFR)"/>
							<p:inputText value="#{receitaFederalBean.rec.responsavel}"  style="padding-right: 5px; float: right; width:80px "  readonly="true"/>
						</h:panelGrid>
						<p:outputLabel value="Código e Descrição da Natureza Jurídica"/>
						<h:panelGrid columns="5" >
							<p:inputText value="#{receitaFederalBean.rec.naturezaJuridica}"  style="padding-right: 5px; float: right; width:545px " readonly="true" />
							<p:outputLabel value="Situação"/>
							<p:inputText value="#{receitaFederalBean.rec.situacaoCadastral}"  style="padding-right: 5px; float: right; width:80px " readonly="true"/>
							<p:outputLabel value="Data da Situação"/>
							<p:inputText value="#{receitaFederalBean.rec.dataSituacaoCadastral}"  style="padding-right: 5px; float: right; width:80px "  readonly="true" />
						</h:panelGrid>
						<p:outputLabel value="Código e Descrição da Atividade Econômica Principal"/>
						<h:panelGrid columns="1" >
							<p:inputText value="#{receitaFederalBean.rec.atividadePrincipal}"  style="padding-right: 5px; float: right; width:907px " readonly="true"  />
						</h:panelGrid>
						<p:outputLabel value="Código e Descrição das Atividades Econômicas Secundárias"/>
						<h:panelGrid columns="1" >
							<p:inputTextarea value="#{receitaFederalBean.rec.atividadeSecundaria}"  style="padding-right: 5px; float: right; width:907px " readonly="true"  />
						</h:panelGrid>
					</h:panelGrid>
					
					<div align="center" id="acoes" >
						<p:commandButton  value="Confirmar" id="btnGrava"   icon="ui-icon-check"  actionListener="#{receitaFederalBean.dialogReturn(true)}" ></p:commandButton>
						<p:commandButton  value="Cancelar"  id="btnCancela" icon="ui-icon-closethick"   actionListener="#{receitaFederalBean.dialogReturn(false)}" >
						</p:commandButton>
					</div>
					
					
				</h:form>
     	 </p:fieldset>
      </p:dialog>  
        
       <p:dialog widgetVar="statusDialog" modal="true" draggable="false"   closable="false"  resizable="false" showHeader="false" >
				<p:graphicImage name="/imagens/progresso.gif" />
	   </p:dialog>
    </h:body>
</html>